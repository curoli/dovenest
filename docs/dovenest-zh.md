# DoveNest：为人类未来而协同规划的人工智能代理

## 摘要
当今的人工智能通常分为两类：**对话伙伴**（擅长交流、知识分享和创造力）和 **代理**（擅长通过工具和接口执行任务）。然而，人类在 **计划** 与 **行动** 之间自然而然地切换。这种分离带来了摩擦，需要模式切换，导致体验割裂。

**DoveNest** 提出一个新标准：**协同规划代理**，在一次无缝交互中统一 **理解、计划与行动**。通过结合持久记忆、接口能力和非阻塞的异步执行，DoveNest 人格可以：
- 在计划与执行任务时保持自然对话。  
- 管理上下文、记忆和专业知识。  
- 在后台运行长时间操作，同时保持对话。  
- 确保有人在环、可追溯性与安全性。  

本白皮书介绍了 DoveNest 的动机、架构和十个具体用例，以及 MVP 路线图和设计原则。愿景是建立一个**以人为中心的人工智能平台**，让代理如可信赖的合作伙伴般工作：连续、上下文相关且安全。  

---

## 目录
- [引言](#引言)  
  - [概述](#概述)  
  - [动机](#动机)  
  - [现有 AI 人格的问题](#现有-ai-人格的问题)  
  - [DoveNest 的解决方案](#dovenest-的解决方案)  
  - [DoveNest 的核心特征](#dovenest-的核心特征)  
- [DoveNest 架构](#dovenest-架构)  
  - [三层结构](#三层结构)  
  - [AI 人格平台的角色](#ai-人格平台的角色)  
  - [AI 对话伙伴](#ai-对话伙伴)  
  - [AI 代理](#ai-代理)  
  - [协同规划代理](#协同规划代理)  
- [用例](#用例)  
  - [UC-01: 持续 GitHub 结对编程（无需模式切换）](#uc-01-持续-github-结对编程无需模式切换)  
  - [UC-02: 安全的仓库级重构（批处理 + 护栏）](#uc-02-安全的仓库级重构批处理--护栏)  
  - [UC-03: 文档与白皮书的多语言同步](#uc-03-文档与白皮书的多语言同步)  
  - [UC-04: 从研究到 PR（深入阅读 → 实现）](#uc-04-从研究到-pr深入阅读--实现)  
  - [UC-05: Bug 分诊与复现助手](#uc-05-bug-分诊与复现助手)  
  - [UC-06: 代码与决策知识门户](#uc-06-代码与决策知识门户)  
  - [UC-07: 会议到待办事项自动化](#uc-07-会议到待办事项自动化)  
  - [UC-08: 数据/Embedding 流水线启动](#uc-08-数据embedding-流水线启动)  
  - [UC-09: 记忆治理与隐私控制](#uc-09-记忆治理与隐私控制)  
  - [UC-10: 值班 Runbook 副驾驶](#uc-10-值班-runbook-副驾驶)  
- [MVP 路线图（前 4–6 周）](#mvp-路线图前-46-周)  
- [与用例相关的设计原则](#与用例相关的设计原则)  
- [开放问题](#开放问题)  

---

## 引言

### 概述
DoveNest 开发 **协同规划代理**：一种结合 **AI 对话伙伴** 与 **AI 代理** 优势的统一人格。

### 动机
人工智能日益强大，在工作、研究、教育和日常生活中发挥核心作用。其基础是不断增强的 **模型**，其上构建了 **AI 人格**。这些人格决定了人们如何实际使用 AI。

### 现有 AI 人格的问题
目前 AI 人格分为两类：  
1. **对话伙伴** – 擅长对话、知识传递、理解复杂问题和创意构思。  
2. **代理** – 专注于通过接口和工具执行明确定义的任务。  

然而人类自然地在 **计划** 与 **行动** 之间切换。这种分离导致效率低下。

### DoveNest 的解决方案
由于两类人格基于相同模型，没有技术理由阻止一体化。DoveNest 提供 **协同规划代理**，在一次交互中统一 **理解、计划与行动**。

### DoveNest 的核心特征
- **持久记忆** 支持连续对话。  
- **接口能力** 实现任务执行。  
- **非线性交互**：长任务在后台运行。  
- **上下文驱动记忆**：仅在需要时激活。  

---

## DoveNest 架构

### 三层结构
1. **用户界面** – 人与 AI 的交互界面。  
2. **AI 人格平台** – 组织上下文、记忆、接口与交互。  
3. **AI 模型基础设施** – 提供底层智能与算力。  

### AI 人格平台的角色
决定 AI 的真正能力。DoveNest 将对话与执行融合为一。

### AI 对话伙伴
模拟自然对话，基于记忆增强。  

### AI 代理
通过接口执行任务；如果不同步，可能阻塞对话。  

### 协同规划代理
无缝结合计划与执行，管理上下文与记忆，支持异步流程。  

---

## 用例

### UC-01: 持续 GitHub 结对编程（无需模式切换）
**问题：** 切换模式打断对话流。  
**愿景：** 保持对话，同时 IA 提交代码并在后台运行 CI。  
**MVP：** 单仓库、单分支、lint/fmt/test。  
**KPI：** CI 通过 <1 小时，≥80% PR 无需额外修改即可合并。  

### UC-02: 安全的仓库级重构（批处理 + 护栏）
**问题：** 大规模重构易出错。  
**愿景：** 批量小提交，测试保障稳定。  
**MVP：** 简单重命名 + 更新引用。  
**KPI：** 平均时长、回归率。  

### UC-03: 文档与白皮书的多语言同步
**问题：** 手动翻译易产生差异。  
**愿景：** 单一源头，多语言同步。  
**MVP：** DE↔EN 同步。  
**KPI：** 延迟 <24h，术语一致性。  

### UC-04: 从研究到 PR（深入阅读 → 实现）
**问题：** 将规范转为代码缓慢。  
**愿景：** IA 阅读文档，生成测试和代码。  
**MVP：** 小模块 + 单元测试通过。  
**KPI：** 覆盖率、审查轮次。  

### UC-05: Bug 分诊与复现助手
**问题：** Issue 缺少复现步骤。  
**愿景：** IA 聚类问题，生成最小复现测试，提出修复建议。  
**MVP：** 单个 bug → 测试 + 修复 PR。  
**KPI：** 1h 内复现比例，首次修复时间。  

### UC-06: 代码与决策知识门户
**问题：** 决策原因容易丢失。  
**愿景：** 基于代码+ADR+PR 的问答系统，附引用。  
**MVP：** 回答“为何选择 LanceDB 而非 SQLite？”并提供引用。  
**KPI：** 答案准确性，入职效率。  

### UC-07: 会议到待办事项自动化
**问题：** 会议决策未进入 backlog。  
**愿景：** IA 从会议记录中提取任务并生成 issue。  
**MVP：** 单个转录 → 5–10 个 issue。  
**KPI：** 捕获率，满意度。  

### UC-08: 数据/Embedding 流水线启动
**问题：** 配置 embedding 服务繁琐。  
**愿景：** IA scaffold Rust+LanceDB 微服务，CI/CD。  
**MVP：** 本地服务 + 烟雾测试。  
**KPI：** 首次查询时间，p95 延迟。  

### UC-09: 记忆治理与隐私控制
**问题：** 持久记忆有用但有风险。  
**愿景：** 精细化控制：opt-in、审计日志、保留期。  
**MVP：** 会话级批准/拒绝，导出/删除。  
**KPI：** 用户信任，零事故。  

### UC-10: 值班 Runbook 副驾驶
**问题：** 事件需快速响应。  
**愿景：** IA 将警报匹配 runbook，运行诊断，生成后事报告。  
**MVP：** 事件模拟 → 诊断 + 报告草稿。  
**KPI：** MTTR 降低，建议准确性。  

---

## MVP 路线图（前 4–6 周）
- 第 1–2 周：UC-01 基础（最小 repo + CI）。  
- 第 3–4 周：DE↔EN 同步 + 知识门户。  
- 第 5–6 周：Bug 复现助手试点。  

---

## 与用例相关的设计原则
- 无需模式切换：对话优先。  
- 人在环：代码/记忆修改需批准。  
- 全程可追溯：链接到 PR、测试、ADR、日志。  
- 优雅降级：工具缺失时仍能规划。  
- 安全护栏：最小权限 token、沙箱、签名操作。  

---

## 开放问题
- 异步更新的统一事件模型？  
- 跨语言的标准化测试接口？  
- 跨项目和人格的可移植记忆架构？  
